{"comments":[{"id":"IC_kwDOQqNfnc7aurcP","author":{"login":"coderabbitai"},"authorAssociation":"NONE","body":"<!-- This is an auto-generated comment: summarize by coderabbit.ai -->\n<!-- walkthrough_start -->\n\n## Walkthrough\n\nAdds a complete Audio Intelligence Suite: React frontends (portal, lecture, audiobook), prebuilt public deployables, new Cloud Functions (PDF processor, TTS service, orchestrator), enhanced backend cost-tracking, Firebase hosting config, and deployment/local orchestration scripts.\n\n## Changes\n\n| Cohort / File(s) | Summary |\n|---|---|\n| **Firebase & Hosting** <br> `.firebaserc`, `firebase.json`, \\`.firebase/hosting.cHVibGljX2RlcGxveQ.cache\\` | Firebase project config and hosting setup, SPA rewrites for `/lecture/` and `/audiobook/`, and added cache manifest entries. |\n| **Portal (frontend)** <br> `apps/portal/index.html`, `apps/portal/style.css`, `public_deploy/index.html`, `public_deploy/style.css` | Landing page markup and styles for the Audio Intelligence Suite with two navigable cards and dark/glassy theme. |\n| **Audiobook App (source)** <br> `apps/audiobook/package.json`, `apps/audiobook/vite.config.js`, `apps/audiobook/.gitignore`, `apps/audiobook/README.md`, `apps/audiobook/eslint.config.js`, `apps/audiobook/index.html` | New React + Vite app scaffold: deps, build/lint config, HTML entry, and README. |\n| **Audiobook App (src)** <br> `apps/audiobook/src/main.jsx`, `apps/audiobook/src/App.jsx`, `apps/audiobook/src/components/Tester.jsx`, `apps/audiobook/src/index.css`, `apps/audiobook/src/App.css` | Full audiobook player and Tester component: PDF upload/orchestration flow, API calls, base64‚ÜíBlob handling, playback controls, download, diagnostics, and styles. |\n| **Pre-built Audiobook Deployable** <br> `public_deploy/audiobook/index.html`, `public_deploy/audiobook/assets/index-47a2syEO.css`, `public_deploy/audiobook/assets/index-Y1tckfnb.css` | Compiled audiobook frontend assets (HTML + CSS) for static hosting. |\n| **Pre-built Lecture Deployable** <br> `public_deploy/lecture/index.html`, `public_deploy/lecture/style.css`, `public_deploy/lecture/app.js`, `public_deploy/lecture/config.js` | Static lecture player: upload/processing/player views, polling-based job status, TOC/transcript player, and runtime config. |\n| **Backend ‚Äî New Services** <br> `services/pdf-processor/main.py`, `services/pdf-processor/requirements.txt`, `services/orchestrator/main.py`, `services/orchestrator/requirements.txt`, `services/tts-service/main.py`, `services/tts-service/requirements.txt` | New Cloud Functions: PDF extraction (pypdf), orchestrator (forwards PDF ‚Üí PDF processor ‚Üí TTS), and TTS service supporting Google and ElevenLabs (chunking, provider dispatch). |\n| **Backend ‚Äî Enhancements (cost tracking & model bumps)** <br> `services/analyzer/main.py`, `services/script-gen/main.py`, `services/audio-gen/main.py` | Added per-section and total USD cost calculations/metadata, usage inclusion from model responses, and model version bumps to gemini-3.0-flash. Firestore updates now include cost fields and total_estimated_cost_usd increments. |\n| **Deployment & Local tooling** <br> `deploy_hosting.sh`, `deploy_services.sh`, `start_suite.sh`, `requirements.txt` | Scripts to build/deploy hosting, deploy Cloud Functions, and start local services; requirements updated (requests). |\n| **Repo hygiene & reviews** <br> `.gitignore`, `cr_review_body.txt`, `pr_comments.txt`, `pr_reviews.txt` | .gitignore modifications (Firebase/logs); added review artifacts and PR commentary files documenting suggested changes and reviewers' notes. |\n\n## Sequence Diagram\n\n```mermaid\nsequenceDiagram\n    participant Client as Browser (Client)\n    participant Orch as Orchestrator\n    participant PDF as PDF Processor\n    participant TTS as TTS Service\n    participant ClientAudio as Client Audio\n\n    Client->>Orch: POST multipart/form-data (PDF + tts_settings)\n    activate Orch\n    Orch->>PDF: Forward file (multipart POST)\n    activate PDF\n    PDF->>PDF: Extract text (pypdf) ‚Üí cleaned text\n    PDF-->>Orch: JSON { filename, page_count, text }\n    deactivate PDF\n    Orch->>TTS: POST JSON { text, provider, settings }\n    activate TTS\n    alt provider == google\n        TTS->>TTS: Chunk text, call Google TTS, concat audio\n    else provider == elevenlabs\n        TTS->>TTS: Call ElevenLabs API\n    end\n    TTS-->>Orch: JSON { audio_content (base64), provider }\n    deactivate TTS\n    Orch-->>Client: JSON { status, filename, text_preview, audio_content (base64), provider }\n    deactivate Orch\n    Client->>ClientAudio: Decode base64 ‚Üí Blob, createObjectURL ‚Üí playback UI\n```\n\n## Estimated code review effort\n\nüéØ 4 (Complex) | ‚è±Ô∏è ~75 minutes\n\n- Files needing extra attention:\n  - services/orchestrator/main.py ‚Äî request forwarding, error/status propagation, CORS, multipart handling.\n  - services/tts-service/main.py ‚Äî provider dispatch, Google chunking logic, ElevenLabs integration, API key handling and error surfaces.\n  - services/audio-gen/main.py, services/script-gen/main.py, services/analyzer/main.py ‚Äî cost math, token usage extraction, Firestore Increment usage and consistency.\n  - apps/audiobook/src/App.jsx and public_deploy/lecture/app.js ‚Äî client-side state machines, polling, blob URL lifecycle, and playback/seek correctness.\n  - deploy scripts (deploy_hosting.sh, deploy_services.sh, start_suite.sh) ‚Äî environment generation, command execution safety, and platform-specific assumptions.\n\n## Poem\n\n> üê∞ I hopped through code and cached each song,  \n> PDFs to voices, stitched loud and long.  \n> Orchestrated hops, costs counted in light‚Äî  \n> Rabbits applaud: the audio's right! üé∂\n\n<!-- walkthrough_end -->\n\n\n<!-- pre_merge_checks_walkthrough_start -->\n\n## Pre-merge checks and finishing touches\n<details>\n<summary>‚ùå Failed checks (1 warning)</summary>\n\n|     Check name     | Status     | Explanation                                                                           | Resolution                                                                     |\n| :----------------: | :--------- | :------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------- |\n| Docstring Coverage | ‚ö†Ô∏è Warning | Docstring coverage is 45.95% which is insufficient. The required threshold is 80.00%. | You can run `@coderabbitai generate docstrings` to improve docstring coverage. |\n\n</details>\n<details>\n<summary>‚úÖ Passed checks (2 passed)</summary>\n\n|     Check name    | Status   | Explanation                                                                                                                                                            |\n| :---------------: | :------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Description Check | ‚úÖ Passed | Check skipped - CodeRabbit‚Äôs high-level summary is enabled.                                                                                                            |\n|    Title check    | ‚úÖ Passed | The title accurately and specifically describes the main changes: adding a Premium Audiobook UI component and implementing end-to-end cost tracking across the system. |\n\n</details>\n\n<!-- pre_merge_checks_walkthrough_end -->\n\n<!-- finishing_touch_checkbox_start -->\n\n<details>\n<summary>‚ú® Finishing touches</summary>\n\n- [ ] <!-- {\"checkboxId\": \"7962f53c-55bc-4827-bfbf-6a18da830691\"} --> üìù Generate docstrings\n<details>\n<summary>üß™ Generate unit tests (beta)</summary>\n\n- [ ] <!-- {\"checkboxId\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\", \"radioGroupId\": \"utg-output-choice-group-unknown_comment_id\"} -->   Create PR with unit tests\n- [ ] <!-- {\"checkboxId\": \"07f1e7d6-8a8e-4e23-9900-8731c2c87f58\", \"radioGroupId\": \"utg-output-choice-group-unknown_comment_id\"} -->   Post copyable unit tests in a comment\n- [ ] <!-- {\"checkboxId\": \"6ba7b810-9dad-11d1-80b4-00c04fd430c8\", \"radioGroupId\": \"utg-output-choice-group-unknown_comment_id\"} -->   Commit unit tests in branch `feature/premium-audio-cost-tracking`\n\n</details>\n\n</details>\n\n<!-- finishing_touch_checkbox_end -->\n\n<!-- tips_start -->\n\n---\n\nThanks for using [CodeRabbit](https://coderabbit.ai?utm_source=oss&utm_medium=github&utm_campaign=JasonDoug/PDFLecture&utm_content=1)! It's free for OSS, and your support helps us grow. If you like it, consider giving us a shout-out.\n\n<details>\n<summary>‚ù§Ô∏è Share</summary>\n\n- [X](https://twitter.com/intent/tweet?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A&url=https%3A//coderabbit.ai)\n- [Mastodon](https://mastodon.social/share?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A%20https%3A%2F%2Fcoderabbit.ai)\n- [Reddit](https://www.reddit.com/submit?title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&text=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code.%20Check%20it%20out%3A%20https%3A//coderabbit.ai)\n- [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcoderabbit.ai&mini=true&title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&summary=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code)\n\n</details>\n\n<sub>Comment `@coderabbitai help` to get the list of available commands and usage tips.</sub>\n\n<!-- tips_end -->\n\n<!-- internal state start -->\n\n\n<!-- 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 -->\n\n<!-- internal state end -->","createdAt":"2025-12-18T10:50:48Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/JasonDoug/PDFLecture/pull/1#issuecomment-3669669647","viewerDidAuthor":false}],"reviews":[{"id":"PRR_kwDOQqNfnc7WG9yB","author":{"login":"coderabbitai"},"authorAssociation":"NONE","body":"**Actionable comments posted: 14**\n\n> [!NOTE]\n> Due to the large number of review comments, Critical, Major severity comments were prioritized as inline comments.\n\n<details>\n<summary>‚ôªÔ∏è Duplicate comments (2)</summary><blockquote>\n\n<details>\n<summary>services/script-gen/main.py (2)</summary><blockquote>\n\n`63-63`: **Same model change as analyzer‚Äîverify consistency.**\n\nThis file uses the same `gemini-3.0-flash` model as `services/analyzer/main.py`. Ensure this model name is valid and that the pricing rates used here (Lines 202) match the analyzer's rates for consistency.\n\n\n\n\nRefer to the verification request in `services/analyzer/main.py` at Lines 78-79 for model name validation.\n\n---\n\n`233-240`: **Consider consolidating Firestore imports (same as audio-gen).**\n\nThe inline import of `firestore` at Line 233 duplicates the pattern seen in `services/audio-gen/main.py`. While functional, consider consolidating imports as suggested in the audio-gen review to improve code consistency and reduce duplication.\n\n\n\n\nRefer to the refactoring suggestion in `services/audio-gen/main.py` at Lines 185-195 for consolidation options.\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>üü° Minor comments (10)</summary><blockquote>\n\n<details>\n<summary>.firebase/hosting.cHVibGljX2RlcGxveQ.cache-1-13 (1)</summary><blockquote>\n\n`1-13`: **Generated Firebase cache should not be committed.**\n\nThe `.firebase` directory contains generated deployment artifacts and local CLI state that should be excluded from source control. Committing these files can lead to:\n- Unnecessary merge conflicts on every build\n- Repository bloat from frequently changing hashes\n- Confusion about deployment state across team members\n\n\n\n<details>\n<summary>üîé Add `.firebase` to the root .gitignore:</summary>\n\n```diff\n+# Firebase CLI cache and state\n+.firebase/\n```\n</details>\n\n\n> Committable suggestion skipped: line range outside the PR's diff.\n\n</blockquote></details>\n<details>\n<summary>services/tts-service/requirements.txt-4-4 (1)</summary><blockquote>\n\n`4-4`: **Pin to a specific requests version to avoid known security vulnerabilities.**\n\nThe `requests==2.*` specifier is overly permissive. Requests versions between 2.3.0 and 2.30.0 are vulnerable to Proxy-Authorization header forwarding and versions prior to 2.32.0 had SSL certificate verification bypass issues. Use `requests==2.32.*` or `requests==2.32.5` to ensure a secure version is installed.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/index.html-7-7 (1)</summary><blockquote>\n\n`7-7`: **Update the generic page title.**\n\nThe title \"frontend\" is not user-friendly for browser tabs, bookmarks, or accessibility. Consider a descriptive title like \"Audiobook Player\" or \"Premium Audiobook Experience\".\n\n\n\n<details>\n<summary>üîé Apply this diff to use a descriptive title:</summary>\n\n```diff\n-    <title>frontend</title>\n+    <title>Premium Audiobook Player</title>\n```\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>public_deploy/audiobook/index.html-7-7 (1)</summary><blockquote>\n\n`7-7`: **Update the production page title.**\n\nThis is the deployed HTML file served to users. The generic title \"frontend\" degrades user experience in browser tabs, bookmarks, and search results. A descriptive title is essential for production deployments.\n\n\n\n<details>\n<summary>üîé Apply this diff to use a descriptive title:</summary>\n\n```diff\n-    <title>frontend</title>\n+    <title>Premium Audiobook Player</title>\n```\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>deploy_hosting.sh-32-35 (1)</summary><blockquote>\n\n`32-35`: **Sanitize user input before writing to .env file.**\n\nThe URLs are written directly to the `.env.production` file without validation. A malicious or malformed URL containing newlines could inject additional environment variables.\n\n<details>\n<summary>üîé Consider adding URL format validation:</summary>\n\n```diff\n+# Validate URL format\n+if [[ ! \"$PDF_URL\" =~ ^https?:// ]] || [[ ! \"$TTS_URL\" =~ ^https?:// ]]; then\n+    echo \"‚ùå URLs must start with http:// or https://\"\n+    exit 1\n+fi\n+\n echo \"\"\n echo \"üìù Generating Production Config...\"\n```\n</details>\n\n\n> Committable suggestion skipped: line range outside the PR's diff.\n\n</blockquote></details>\n<details>\n<summary>deploy_hosting.sh-41-44 (1)</summary><blockquote>\n\n`41-44`: **Add error handling for `cd` commands to prevent silent failures.**\n\nIf the directory doesn't exist or the `cd` fails, the script will continue in the wrong directory, potentially running `npm install` and `npm run build` in unintended locations.\n\n<details>\n<summary>üîé Apply this diff:</summary>\n\n```diff\n echo \"üèóÔ∏è  Building Audiobook App...\"\n-cd apps/audiobook\n+cd apps/audiobook || { echo \"‚ùå Failed to enter apps/audiobook directory\"; exit 1; }\n npm install\n npm run build\n-cd ../..\n+cd ../.. || { echo \"‚ùå Failed to return to root directory\"; exit 1; }\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>start_suite.sh-10-10 (1)</summary><blockquote>\n\n`10-10`: **Fix potential word splitting in environment variable loading.**\n\nThe `cat .env | xargs` command is unquoted, which can cause word splitting if environment variable values contain spaces. This is flagged by shellcheck.\n\n\n\n<details>\n<summary>üîé Apply this diff:</summary>\n\n```diff\n if [ -f .env ]; then\n-    export $(cat .env | xargs)\n+    set -a\n+    source .env\n+    set +a\n     echo \"üîë Environment variables loaded.\"\n```\n\nThis approach using `source` is more robust and handles quotes/spaces correctly.\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/pdf-processor/main.py-6-16 (1)</summary><blockquote>\n\n`6-16`: **Fix contradictory whitespace normalization logic.**\n\nThe function first normalizes newlines (line 13: `\\n+` ‚Üí `\\n`), but then line 15 replaces **all** whitespace including newlines with a single space (`\\s+` ‚Üí ` `). This makes the newline normalization ineffective. Additionally, the docstring claims hyphenation handling at line breaks, but this isn't implemented.\n\n\n\n<details>\n<summary>üîé Suggested fix:</summary>\n\nIf you want to preserve paragraph breaks, normalize newlines first, then handle spaces within lines:\n\n```diff\n def clean_text(text: str) -> str:\n     \"\"\"\n     Basic text cleaning.\n     - Removes excessive whitespace\n-    - Joins hyphenated words at line breaks (basic)\n+    - Preserves paragraph breaks\n     \"\"\"\n-    # Replace multiple newlines with a single newline\n-    text = re.sub(r'\\n+', '\\n', text)\n-    # Replace multiple spaces with single space\n-    text = re.sub(r'\\s+', ' ', text)\n+    # Normalize multiple newlines to double newline (paragraph break)\n+    text = re.sub(r'\\n\\s*\\n+', '\\n\\n', text)\n+    # Replace multiple spaces/tabs with single space\n+    text = re.sub(r'[ \\t]+', ' ', text)\n     return text.strip()\n```\n\nAlternatively, if you prefer all text as a single line with spaces:\n\n```diff\n def clean_text(text: str) -> str:\n     \"\"\"\n     Basic text cleaning.\n-    - Removes excessive whitespace\n-    - Joins hyphenated words at line breaks (basic)\n+    - Collapses all whitespace to single spaces\n     \"\"\"\n-    # Replace multiple newlines with a single newline\n-    text = re.sub(r'\\n+', '\\n', text)\n-    # Replace multiple spaces with single space\n+    # Replace all whitespace (including newlines) with single space\n     text = re.sub(r'\\s+', ' ', text)\n     return text.strip()\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/app.js-177-195 (1)</summary><blockquote>\n\n`177-195`: **Missing error handling for non-OK status responses in polling.**\n\nThe polling loop parses JSON without checking `response.ok` first. If the server returns an error status, `response.json()` might fail or return unexpected data.\n\n<details>\n<summary>Add response status check:</summary>\n\n```diff\n     state.interval = setInterval(async () => {\n         try {\n             const response = await fetch(`${CONFIG.API_ENDPOINTS.STATUS}?jobId=${state.jobId}`);\n+            if (!response.ok) {\n+                console.error('Status check failed:', response.status);\n+                return;\n+            }\n             const data = await response.json();\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx-99-109 (1)</summary><blockquote>\n\n`99-109`: **Missing cleanup for blob URLs - potential memory leak.**\n\n`URL.createObjectURL()` creates a reference that persists until explicitly revoked. Without calling `URL.revokeObjectURL()`, repeated synthesis will leak memory.\n\n<details>\n<summary>Add cleanup:</summary>\n\n```diff\n const processAudioResponse = (base64Audio) => {\n     addLog('Synthesis successful!', 'success')\n+    // Revoke previous URL to prevent memory leak\n+    if (audioUrl) {\n+        URL.revokeObjectURL(audioUrl)\n+    }\n     const binaryString = window.atob(base64Audio)\n     const bytes = new Uint8Array(binaryString.length)\n     for (let i = 0; i < binaryString.length; i++) {\n         bytes[i] = binaryString.charCodeAt(i)\n     }\n     const blob = new Blob([bytes], { type: 'audio/mpeg' })\n     const url = URL.createObjectURL(blob)\n     setAudioUrl(url)\n }\n```\n\nAlso add cleanup on unmount:\n\n```javascript\nimport { useState, useEffect } from 'react'\n\n// Inside component:\nuseEffect(() => {\n    return () => {\n        if (audioUrl) URL.revokeObjectURL(audioUrl)\n    }\n}, [audioUrl])\n```\n</details>\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>üßπ Nitpick comments (22)</summary><blockquote>\n\n<details>\n<summary>services/audio-gen/main.py (1)</summary><blockquote>\n\n`185-195`: **Consider consolidating Firestore imports.**\n\nThe inline import of `firestore` at Line 185 is redundant since `get_firestore_client()` already imports and uses the `firestore` module. While this works, it creates unnecessary duplication.\n\n\n\n<details>\n<summary>üîé Suggested refactor to use existing firestore module:</summary>\n\nMove the firestore import to the top of the file alongside other imports, or import Increment specifically from the lazy client initialization:\n\n**Option 1: Top-level import (cleanest)**\n```diff\n from datetime import datetime\n from typing import Dict, List, Any\n+from google.cloud import firestore\n \n import functions_framework\n```\n\nThen use it directly:\n```diff\n-        from google.cloud import firestore\n         job_ref.update({\n             'status': 'completed',\n```\n\n**Option 2: Import Increment only when needed**\n```diff\n-        from google.cloud import firestore\n+        from google.cloud.firestore import Increment\n         job_ref.update({\n             ...\n-            'total_estimated_cost_usd': firestore.Increment(total_audio_cost),\n+            'total_estimated_cost_usd': Increment(total_audio_cost),\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>deploy_services.sh (1)</summary><blockquote>\n\n`17-43`: **Add error handling and validation.**\n\nThe deployment script lacks error handling, which means:\n- Failed deployments may go unnoticed\n- Subsequent deployments continue even if prerequisites fail\n- No validation that required secrets exist\n\n\n\n<details>\n<summary>üîé Suggested improvements:</summary>\n\n```diff\n+# Enable strict error handling\n+set -euo pipefail\n+\n+# Validate prerequisites\n+if ! gcloud secrets describe GEMINI_API_KEY &>/dev/null; then\n+    echo \"Error: GEMINI_API_KEY secret not found\"\n+    exit 1\n+fi\n+\n+if ! gcloud secrets describe ELEVENLABS_API_KEY &>/dev/null; then\n+    echo \"Error: ELEVENLABS_API_KEY secret not found\"\n+    exit 1\n+fi\n+\n deploy_service() {\n     NAME=$1\n     SOURCE=$2\n     ENTRY_POINT=$3\n     MEMORY=$4\n     TRIGGER_TYPE=${5:-\"http\"}\n     \n     echo \"Deploying $NAME...\"\n     \n+    # Validate source directory exists\n+    if [ ! -d \"$SOURCE\" ]; then\n+        echo \"Error: Source directory $SOURCE not found\"\n+        return 1\n+    fi\n     \n     if [ \"$TRIGGER_TYPE\" == \"http\" ]; then\n         TRIGGER_FLAG=\"--trigger-http --allow-unauthenticated\"\n     else\n         TRIGGER_FLAG=\"--trigger-topic=$TRIGGER_TYPE\"\n     fi\n     \n-    gcloud functions deploy $NAME \\\n+    if ! gcloud functions deploy $NAME \\\n         --gen2 \\\n         --runtime=python310 \\\n         --region=$REGION \\\n         --source=$SOURCE \\\n         --entry-point=$ENTRY_POINT \\\n         $TRIGGER_FLAG \\\n         --memory=$MEMORY \\\n         --service-account=$SERVICE_ACCOUNT \\\n         --set-secrets=\"GEMINI_API_KEY=GEMINI_API_KEY:latest,ELEVENLABS_API_KEY=ELEVENLABS_API_KEY:latest\" \\\n-        --set-env-vars=\"GCP_PROJECT_ID=$PROJECT_ID,GCS_BUCKET_NAME=pdf-storage-bucket-5472,FIRESTORE_COLLECTION=pdf2lecturefb\"\n+        --set-env-vars=\"GCP_PROJECT_ID=$PROJECT_ID,GCS_BUCKET_NAME=pdf-storage-bucket-5472,FIRESTORE_COLLECTION=pdf2lecturefb\"; then\n+        echo \"Error: Failed to deploy $NAME\"\n+        return 1\n+    fi\n+    echo \"‚úÖ Successfully deployed $NAME\"\n }\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/README.md (1)</summary><blockquote>\n\n`1-16`: **Consider customizing the template README.**\n\nThis retains the default Vite + React template content. While functional, customizing it to describe the Premium Audiobook Player specifically would improve developer onboarding.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/package.json (1)</summary><blockquote>\n\n`1-4`: **Package name should reflect its location in the monorepo.**\n\nThe package is named `\"frontend\"` but resides in `apps/audiobook`. In a monorepo, generic names can cause confusion and potential conflicts. Consider renaming to something descriptive like `\"@pdflecture/audiobook\"` or `\"audiobook-frontend\"`.\n\n<details>\n<summary>üîé Suggested fix:</summary>\n\n```diff\n {\n-  \"name\": \"frontend\",\n+  \"name\": \"@pdflecture/audiobook\",\n   \"private\": true,\n   \"version\": \"0.0.0\",\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>deploy_hosting.sh (1)</summary><blockquote>\n\n`42-43`: **Consider handling build failures.**\n\nIf `npm install` or `npm run build` fails, the script continues to deploy potentially broken or missing artifacts.\n\n<details>\n<summary>üîé Apply this diff:</summary>\n\n```diff\n-npm install\n-npm run build\n+npm install || { echo \"‚ùå npm install failed\"; exit 1; }\n+npm run build || { echo \"‚ùå Build failed\"; exit 1; }\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>public_deploy/index.html (1)</summary><blockquote>\n\n`4-12`: **Consider adding meta description and favicon for better SEO and UX.**\n\nThe page is missing a meta description tag (helpful for SEO) and a favicon reference.\n\n<details>\n<summary>üîé Suggested additions:</summary>\n\n```diff\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n+    <meta name=\"description\" content=\"Transform your documents into immersive audio experiences with AI-powered lecture and audiobook generation.\">\n+    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\">\n     <title>Audio Intelligence Suite</title>\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/style.css (1)</summary><blockquote>\n\n`175-176`: **Minor: Clarify fallback comment or remove it.**\n\nThe comment references `--surface-light` as a fallback, but the code uses `--card-bg` directly. If `--surface-light` was considered as an alternative, either define it in `:root` or remove the comment to avoid confusion.\n\n</blockquote></details>\n<details>\n<summary>services/pdf-processor/main.py (1)</summary><blockquote>\n\n`54-56`: **Consider more specific exception handling.**\n\nCatching bare `Exception` can mask unexpected errors. While acceptable for top-level error handlers in Cloud Functions, consider logging more context (e.g., traceback) or catching specific exceptions like `PdfReadError` for better diagnostics.\n\n\n\n<details>\n<summary>üîé Example with traceback logging:</summary>\n\n```diff\n+    import traceback\n+\n     except Exception as e:\n-        print(f\"Error processing PDF: {e}\")\n+        print(f\"Error processing PDF: {e}\")\n+        print(traceback.format_exc())\n         return jsonify({'error': str(e)}), 500\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/orchestrator/main.py (1)</summary><blockquote>\n\n`98-100`: **Consider more granular exception handling.**\n\nSimilar to the PDF processor, catching bare `Exception` can obscure the root cause of failures. Consider catching specific exceptions (e.g., `requests.RequestException`, `json.JSONDecodeError`) and logging stack traces for debugging.\n\n</blockquote></details>\n<details>\n<summary>start_suite.sh (2)</summary><blockquote>\n\n`53-57`: **Handle potentially unset PID_FRONT2 in cleanup.**\n\nIf the audiobook directory doesn't exist (line 40-45), `PID_FRONT2` remains unset. While `kill` will only emit a warning for an unset variable, it's cleaner to handle this explicitly.\n\n\n\n<details>\n<summary>üîé Suggested improvement:</summary>\n\n```diff\n cleanup() {\n     echo \"Shutting down all services...\"\n-    kill $PID_BACK1 $PID_BACK2 $PID_FRONT1 $PID_FRONT2 $PID_PORTAL 2>/dev/null\n+    pids=\"$PID_BACK1 $PID_BACK2 $PID_FRONT1 $PID_PORTAL\"\n+    [ -n \"$PID_FRONT2\" ] && pids=\"$pids $PID_FRONT2\"\n+    kill $pids 2>/dev/null\n     exit\n }\n```\n</details>\n\n---\n\n`25-50`: **Consider adding service health checks.**\n\nThe script starts all services in the background but doesn't verify they started successfully. If a service fails to bind to its port (e.g., port already in use), the script will report success but the service won't be available.\n\n\n\nConsider adding brief health checks after starting each service:\n\n```bash\n# After starting a service:\nsleep 2\nif ! curl -sf http://localhost:9200 > /dev/null 2>&1; then\n    echo \"‚ö†Ô∏è  PDF Processor failed to start\"\nfi\n```\n\nAlternatively, use `wait` with timeouts and check exit codes.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/style.css (1)</summary><blockquote>\n\n`99-99`: **Consider backdrop-filter browser support.**\n\n`backdrop-filter: blur(10px)` provides the glassmorphism effect but has limited support in older browsers (Firefox required enabling a flag until recently). Consider adding a fallback background color for unsupported browsers.\n\n<details>\n<summary>Optional fallback for older browsers:</summary>\n\n```diff\n .card {\n     background: var(--card-bg);\n+    /* Fallback for browsers without backdrop-filter support */\n+    @supports not (backdrop-filter: blur(10px)) {\n+        background: rgba(30, 30, 40, 0.95);\n+    }\n     border: 1px solid rgba(255, 255, 255, 0.05);\n     border-radius: 20px;\n     padding: 3rem 2rem;\n     text-decoration: none;\n     color: inherit;\n     transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n     position: relative;\n     backdrop-filter: blur(10px);\n     overflow: hidden;\n }\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/tts-service/main.py (2)</summary><blockquote>\n\n`78-82`: **Chunking may split words mid-text.**\n\nThe current chunking splits text at fixed character boundaries, which could break words and affect TTS pronunciation quality. Consider splitting at sentence or paragraph boundaries.\n\n<details>\n<summary>Suggested improvement for sentence-aware chunking:</summary>\n\n```diff\n-    # Simple chunking by length - could be improved by splitting at sentences\n-    chunks = [text[i:i+MAX_CHARS] for i in range(0, len(text), MAX_CHARS)]\n+    # Split at sentence boundaries to avoid breaking words\n+    import re\n+    sentences = re.split(r'(?<=[.!?])\\s+', text)\n+    chunks = []\n+    current_chunk = \"\"\n+    for sentence in sentences:\n+        if len(current_chunk) + len(sentence) + 1 <= MAX_CHARS:\n+            current_chunk += (\" \" + sentence if current_chunk else sentence)\n+        else:\n+            if current_chunk:\n+                chunks.append(current_chunk)\n+            current_chunk = sentence[:MAX_CHARS] if len(sentence) > MAX_CHARS else sentence\n+    if current_chunk:\n+        chunks.append(current_chunk)\n```\n</details>\n\n---\n\n`110-144`: **Update ElevenLabs implementation to use chunking for consistency with Google implementation.**\n\nThe current ElevenLabs function sends all text in a single request without chunking. For consistency with the Google implementation and to handle edge cases with larger text volumes, consider implementing chunking similar to Google's approach. The ElevenLabs API supports up to 10,000 characters per request with the monolingual and multilingual models, which provides a reasonable buffer. Additionally, the eleven_monolingual_v1 model is deprecated and will be removed in the future‚Äîconsider migrating to a newer model (e.g., eleven_multilingual_v2) as part of any refactoring.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/App.jsx (4)</summary><blockquote>\n\n`74-81`: **Duplicate base64-to-blob conversion logic.**\n\nThis base64 decoding logic is duplicated in `Tester.jsx` (lines 99-108). Consider extracting this into a shared utility function.\n\n<details>\n<summary>Extract to shared utility:</summary>\n\n```javascript\n// utils/audio.js\nexport function base64ToAudioBlobUrl(base64Audio) {\n  const binaryString = window.atob(base64Audio)\n  const bytes = new Uint8Array(binaryString.length)\n  for (let i = 0; i < binaryString.length; i++) {\n    bytes[i] = binaryString.charCodeAt(i)\n  }\n  const blob = new Blob([bytes], { type: 'audio/mpeg' })\n  return URL.createObjectURL(blob)\n}\n```\n</details>\n\n---\n\n`85-88`: **Consider improving error UX.**\n\nUsing `alert()` for error display is functional but provides a poor user experience. Consider using a toast notification or inline error state that integrates with the UI design.\n\n---\n\n`91-98`: **Add null check before accessing audioRef.current.**\n\n`togglePlay` accesses `audioRef.current` directly. While unlikely to be null in normal flow, adding a guard improves robustness.\n\n<details>\n<summary>Suggested fix:</summary>\n\n```diff\n const togglePlay = () => {\n+   if (!audioRef.current) return\n    if (isPlaying) {\n      audioRef.current.pause()\n    } else {\n      audioRef.current.play()\n    }\n    setIsPlaying(!isPlaying)\n  }\n```\n</details>\n\n---\n\n`185-192`: **Consider accessibility for audio player.**\n\nThe hidden `<audio>` element with `autoPlay` is functional but consider adding `aria-label` or ensuring screen readers can access playback state. The `autoPlay` may also be unexpected for some users.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/app.js (3)</summary><blockquote>\n\n`305-334`: **Performance concern: O(n) timestamp iteration on every timeupdate.**\n\n`updateTime` iterates through all timestamps on every `timeupdate` event (fires ~4 times/second). For long transcripts, this could cause performance issues. Consider using binary search or tracking the current word index.\n\n<details>\n<summary>Optimization using tracked index:</summary>\n\n```diff\n+// Add to state\n+state.currentWordIndex = 0;\n\n function updateTime() {\n     const time = dom.audio.currentTime;\n     dom.currentTime.textContent = formatTime(time);\n\n     if (dom.audio.duration) {\n         dom.seekSlider.value = (time / dom.audio.duration) * 100;\n     }\n\n     const section = state.sections[state.currentSectionIndex];\n     if (section && section.timestamps) {\n-        section.timestamps.forEach((ts, i) => {\n+        // Start search from current index for efficiency\n+        const ts = section.timestamps;\n+        let i = state.currentWordIndex;\n+        \n+        // Find current word (may need to search forward or backward on seek)\n+        while (i > 0 && time < ts[i].start) i--;\n+        while (i < ts.length - 1 && time >= ts[i].end) i++;\n+        \n+        state.currentWordIndex = i;\n+        \n+        // Update only nearby words for highlighting\n+        for (let j = Math.max(0, i - 5); j < Math.min(ts.length, i + 10); j++) {\n             const el = document.getElementById(`word-${j}`);\n             if (el) {\n-                if (time >= ts.start && time < ts.end) {\n+                if (time >= ts[j].start && time < ts[j].end) {\n                     el.classList.add('active');\n-                    if (i % 10 === 0) {\n+                    if (j === i) {\n                         el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                     }\n                 } else {\n                     el.classList.remove('active');\n-                    if (time > ts.end) el.classList.add('spoken');\n+                    if (time > ts[j].end) el.classList.add('spoken');\n                     else el.classList.remove('spoken');\n                 }\n             }\n-        });\n+        }\n     }\n }\n```\n</details>\n\n---\n\n`371-375`: **formatTime utility is duplicated.**\n\nThis function is identical to the one in `apps/lecture/App.jsx` (lines 108-112) and `apps/audiobook/src/App.jsx`. Consider extracting to a shared utility.\n\n---\n\n`172-196`: **Polling interval not cleared on component unmount or page navigation.**\n\nIf the user navigates away or refreshes before job completion, the interval continues. Consider adding cleanup on `beforeunload` or using `AbortController` for fetch calls.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (1)</summary><blockquote>\n\n`111-267`: **Heavy use of inline styles.**\n\nThe component uses extensive inline styles which makes maintenance harder and prevents style reuse. Consider moving these to a CSS file or using CSS-in-JS consistently.\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>üìú Review details</summary>\n\n**Configuration used**: defaults\n\n**Review profile**: CHILL\n\n**Plan**: Pro\n\n<details>\n<summary>üì• Commits</summary>\n\nReviewing files that changed from the base of the PR and between 0297c0607579adac0106557348085428c048ecc0 and e8d41e8d02cecb480156e5cd003d51f32626909b.\n\n</details>\n\n<details>\n<summary>‚õî Files ignored due to path filters (9)</summary>\n\n* `apps/audiobook/package-lock.json` is excluded by `!**/package-lock.json`\n* `apps/audiobook/public/vite.svg` is excluded by `!**/*.svg`\n* `apps/audiobook/src/assets/cover.png` is excluded by `!**/*.png`\n* `apps/audiobook/src/assets/react.svg` is excluded by `!**/*.svg`\n* `deploy_pdf.log` is excluded by `!**/*.log`\n* `deploy_tts.log` is excluded by `!**/*.log`\n* `public_deploy/audiobook/assets/cover-CHrOCsbB.png` is excluded by `!**/*.png`\n* `public_deploy/audiobook/vite.svg` is excluded by `!**/*.svg`\n* `suite_debug.log` is excluded by `!**/*.log`\n\n</details>\n\n<details>\n<summary>üìí Files selected for processing (38)</summary>\n\n* `.firebase/hosting.cHVibGljX2RlcGxveQ.cache` (1 hunks)\n* `.firebaserc` (1 hunks)\n* `apps/audiobook/.gitignore` (1 hunks)\n* `apps/audiobook/README.md` (1 hunks)\n* `apps/audiobook/eslint.config.js` (1 hunks)\n* `apps/audiobook/index.html` (1 hunks)\n* `apps/audiobook/package.json` (1 hunks)\n* `apps/audiobook/src/App.css` (1 hunks)\n* `apps/audiobook/src/App.jsx` (1 hunks)\n* `apps/audiobook/src/components/Tester.jsx` (1 hunks)\n* `apps/audiobook/src/index.css` (1 hunks)\n* `apps/audiobook/src/main.jsx` (1 hunks)\n* `apps/audiobook/vite.config.js` (1 hunks)\n* `apps/portal/index.html` (1 hunks)\n* `apps/portal/style.css` (1 hunks)\n* `deploy_hosting.sh` (1 hunks)\n* `deploy_services.sh` (1 hunks)\n* `firebase.json` (1 hunks)\n* `public_deploy/audiobook/assets/index-47a2syEO.css` (1 hunks)\n* `public_deploy/audiobook/assets/index-Y1tckfnb.css` (1 hunks)\n* `public_deploy/audiobook/index.html` (1 hunks)\n* `public_deploy/index.html` (1 hunks)\n* `public_deploy/lecture/app.js` (1 hunks)\n* `public_deploy/lecture/config.js` (1 hunks)\n* `public_deploy/lecture/index.html` (1 hunks)\n* `public_deploy/lecture/style.css` (1 hunks)\n* `public_deploy/style.css` (1 hunks)\n* `requirements.txt` (1 hunks)\n* `services/analyzer/main.py` (4 hunks)\n* `services/audio-gen/main.py` (4 hunks)\n* `services/orchestrator/main.py` (1 hunks)\n* `services/orchestrator/requirements.txt` (1 hunks)\n* `services/pdf-processor/main.py` (1 hunks)\n* `services/pdf-processor/requirements.txt` (1 hunks)\n* `services/script-gen/main.py` (5 hunks)\n* `services/tts-service/main.py` (1 hunks)\n* `services/tts-service/requirements.txt` (1 hunks)\n* `start_suite.sh` (1 hunks)\n\n</details>\n\n<details>\n<summary>üß∞ Additional context used</summary>\n\n<details>\n<summary>üß¨ Code graph analysis (6)</summary>\n\n<details>\n<summary>public_deploy/lecture/config.js (1)</summary><blockquote>\n\n<details>\n<summary>apps/lecture/config.js (1)</summary>\n\n* `CONFIG` (3-14)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/app.js (1)</summary><blockquote>\n\n<details>\n<summary>apps/lecture/config.js (1)</summary>\n\n* `CONFIG` (3-14)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/App.jsx (1)</summary><blockquote>\n\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (4)</summary>\n\n* `file` (7-7)\n* `audioUrl` (10-10)\n* `PDF_API` (15-15)\n* `Tester` (4-269)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/tts-service/main.py (3)</summary><blockquote>\n\n<details>\n<summary>public_deploy/lecture/app.js (4)</summary>\n\n* `data` (130-130)\n* `data` (151-151)\n* `response` (123-126)\n* `response` (149-149)\n\n</details>\n<details>\n<summary>apps/lecture/app.js (4)</summary>\n\n* `data` (130-130)\n* `data` (151-151)\n* `response` (123-126)\n* `response` (149-149)\n\n</details>\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (2)</summary>\n\n* `text` (6-6)\n* `provider` (8-8)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/audio-gen/main.py (1)</summary><blockquote>\n\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (2)</summary>\n\n* `text` (6-6)\n* `provider` (8-8)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (1)</summary><blockquote>\n\n<details>\n<summary>apps/audiobook/src/App.jsx (3)</summary>\n\n* `file` (20-20)\n* `audioUrl` (21-21)\n* `PDF_API` (30-30)\n\n</details>\n\n</blockquote></details>\n\n</details><details>\n<summary>ü™õ OSV Scanner (2.3.0)</summary>\n\n<details>\n<summary>services/pdf-processor/requirements.txt</summary>\n\n[HIGH] 1-1: werkzeug 3.0.3: Werkzeug safe_join not safe on Windows\n\n(GHSA-f9vj-2wh5-fj8j)\n\n---\n\n[HIGH] 1-1: werkzeug 3.0.3: Werkzeug safe_join() allows Windows special device names\n\n(GHSA-hgf8-39gv-g3f2)\n\n---\n\n[HIGH] 1-1: werkzeug 3.0.3: Werkzeug possible resource exhaustion when parsing file data in forms\n\n(GHSA-q34m-jh98-gwm2)\n\n</details>\n\n</details>\n<details>\n<summary>ü™õ Ruff (0.14.8)</summary>\n\n<details>\n<summary>services/pdf-processor/main.py</summary>\n\n41-41: Loop control variable `i` not used within loop body\n\nRename unused `i` to `_i`\n\n(B007)\n\n---\n\n54-54: Do not catch blind exception: `Exception`\n\n(BLE001)\n\n</details>\n<details>\n<summary>services/orchestrator/main.py</summary>\n\n57-57: Probable use of `requests` call without timeout\n\n(S113)\n\n---\n\n79-79: Probable use of `requests` call without timeout\n\n(S113)\n\n---\n\n98-98: Do not catch blind exception: `Exception`\n\n(BLE001)\n\n</details>\n<details>\n<summary>services/tts-service/main.py</summary>\n\n67-67: Do not catch blind exception: `Exception`\n\n(BLE001)\n\n---\n\n118-118: Avoid specifying long messages outside the exception class\n\n(TRY003)\n\n---\n\n139-139: Probable use of `requests` call without timeout\n\n(S113)\n\n---\n\n142-142: Create your own exception\n\n(TRY002)\n\n---\n\n142-142: Avoid specifying long messages outside the exception class\n\n(TRY003)\n\n</details>\n\n</details>\n<details>\n<summary>ü™õ Shellcheck (0.11.0)</summary>\n\n<details>\n<summary>deploy_hosting.sh</summary>\n\n[warning] 41-41: Use 'cd ... || exit' or 'cd ... || return' in case cd fails.\n\n(SC2164)\n\n</details>\n<details>\n<summary>start_suite.sh</summary>\n\n[warning] 10-10: Quote this to prevent word splitting.\n\n(SC2046)\n\n</details>\n\n</details>\n\n</details>\n\n<details>\n<summary>üîá Additional comments (36)</summary><blockquote>\n\n<details>\n<summary>services/audio-gen/main.py (3)</summary><blockquote>\n\n`128-128`: **LGTM! Cost tracking initialization is clear.**\n\nThe initialization of `total_audio_cost` as a float accumulator is appropriate for tracking cumulative costs across sections.\n\n---\n\n`173-174`: **LGTM! Section metadata is properly enriched.**\n\nThe addition of `characters` and `cost_usd` to each section result provides valuable per-section cost visibility for tracking and debugging.\n\n---\n\n`144-153`: **Update pricing comments with current rates and clarify voice model types.**\n\nThe ElevenLabs rate of $200.00 per 1M characters (Line 150) is correct. However, for Google Cloud Text-to-Speech, the pricing appears conflated:\n- <cite index=\"32-2\">WaveNet voices cost $16.00 per 1M characters</cite>, not \"Journey/Studio\"\n- <cite index=\"25-2\">Studio Voices cost $0.00016 per byte ($160 per 1M characters)</cite>, not $16.00\n- Journey voice pricing should be verified against the official Google Cloud pricing documentation\n\nClarify which specific Google voice model is actually being used and update the comment to reference the correct pricing tier and rate.\n\n</blockquote></details>\n<details>\n<summary>services/analyzer/main.py (3)</summary><blockquote>\n\n`246-260`: **LGTM! Fallback path includes consistent cost tracking.**\n\nThe cost calculation for the text fallback path mirrors the vision path implementation, ensuring consistent cost tracking across both analysis methods. The metadata structure is identical, which is good for downstream processing.\n\n---\n\n`295-308`: **LGTM! Cost tracking is properly integrated into job status.**\n\nThe restructured `analysis_data` dictionary clearly exposes cost information at the job level, and the use of `total_estimated_cost_usd` provides a clean accumulator for multi-phase cost aggregation.\n\n---\n\n`187-200`: **Pricing rates are accurate.**\n\nThe cost calculation uses correct hardcoded rates:\n- Input: $0.50 per 1M tokens (Line 197)\n- Output: $3 per 1M tokens (Line 198)\n\nThese match the official Gemini 3 Flash API pricing. However, consider storing pricing rates in a configuration file or constants module to avoid future manual updates if rates change.\n\n</blockquote></details>\n<details>\n<summary>services/script-gen/main.py (4)</summary><blockquote>\n\n`104-116`: **LGTM! Function signature change properly returns usage metadata.**\n\nThe updated return signature `(response.text, usage)` cleanly provides both the generated script and token usage data, enabling per-section cost tracking. The usage dictionary structure is clear and consistent.\n\n---\n\n`188-188`: **LGTM! Cost accumulator initialization is appropriate.**\n\nThe `total_script_cost` accumulator follows the same pattern as `total_audio_cost` in the audio-gen service, maintaining consistency across the codebase.\n\n---\n\n`199-203`: **Cost calculation is correct and consistent.**\n\nThe per-section cost calculation uses the same Gemini 3.0 Flash rates as the analyzer service ($0.50/1M input, $3.00/1M output), which ensures cost tracking consistency across pipeline stages. However, these rates should still be verified (see analyzer verification request).\n\n\n\n\nRefer to the pricing verification request in `services/analyzer/main.py` at Lines 187-200.\n\n---\n\n`208-210`: **LGTM! Per-section metadata is comprehensive.**\n\nAdding `usage` and `cost_usd` to each section result provides excellent visibility into the cost breakdown for each generated section, which is valuable for debugging and cost optimization.\n\n</blockquote></details>\n<details>\n<summary>services/tts-service/requirements.txt (1)</summary><blockquote>\n\n`2-2`: **Verify flask 3.0.3 security status.**\n\nThis service uses the same flask version (3.0.3) as the PDF processor. Ensure any security advisories affecting flask or its werkzeug dependency are addressed consistently across both services.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/.gitignore (1)</summary><blockquote>\n\n`1-25`: **LGTM!**\n\nThe .gitignore patterns comprehensively cover Node.js/Vite build artifacts, environment files, logs, and editor-specific configurations. The whitelist exception for `.vscode/extensions.json` while ignoring other `.vscode` contents is a good practice for team development.\n\n</blockquote></details>\n<details>\n<summary>.firebaserc (1)</summary><blockquote>\n\n`1-5`: **LGTM!**\n\nThe Firebase project configuration correctly sets the default project target for CLI operations. This aligns with the Firebase hosting setup and deployment workflow introduced in this PR.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/eslint.config.js (1)</summary><blockquote>\n\n`5-5`: No issues to address. The import path is correct and follows ESLint's official flat config API.\n\n\n> Likely an incorrect or invalid review comment.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/App.css (1)</summary><blockquote>\n\n`1-1`: **LGTM - intentional CSS consolidation.**\n\nThe migration from App.css to index.css aligns with the centralized styling strategy documented in the AI summary.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/main.jsx (1)</summary><blockquote>\n\n`1-10`: **LGTM - follows React 19 best practices.**\n\nThe entry point correctly uses the modern `createRoot` API and enables `StrictMode` for development-time checks. The structure aligns with React 19 conventions.\n\n</blockquote></details>\n<details>\n<summary>services/orchestrator/requirements.txt (1)</summary><blockquote>\n\n`1-3`: **LGTM - dependencies properly versioned.**\n\nAll three dependencies use appropriate version constraints that balance stability and security updates. This contrasts positively with the unpinned `requests` in the root requirements.txt.\n\n</blockquote></details>\n<details>\n<summary>firebase.json (1)</summary><blockquote>\n\n`1-24`: **LGTM - Firebase hosting configured correctly.**\n\nThe rewrite rules follow proper precedence (specific routes before catch-all), the ignore patterns are appropriate, and the public directory aligns with the PR's deployment structure.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/vite.config.js (1)</summary><blockquote>\n\n`1-8`: **LGTM!**\n\nClean Vite configuration with appropriate base path that aligns with the Firebase hosting rewrites for `/audiobook/**`.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/audiobook/assets/index-Y1tckfnb.css (1)</summary><blockquote>\n\n`1-1`: **Build artifact looks correct.**\n\nThis is a minified Vite build output. The external Google Fonts import may cause a slight render delay; consider using `font-display: swap` (which appears to be set via `&display=swap` in the URL) to mitigate FOIT (flash of invisible text).\n\n</blockquote></details>\n<details>\n<summary>public_deploy/audiobook/assets/index-47a2syEO.css (1)</summary><blockquote>\n\n`1-1`: **LGTM!**\n\nThis minified build artifact provides consistent dark-themed styling for form elements and audio controls, complementing the other audiobook CSS assets.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/index.html (1)</summary><blockquote>\n\n`1-70`: **LGTM overall!**\n\nClean, semantic HTML with good use of preconnect hints for fonts. The landing page structure effectively guides users to the two main features.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/package.json (1)</summary><blockquote>\n\n`12-27`: All specified versions exist on npm and are compatible. Vite 7.2.4 is a stable release receiving regular patches; lucide-react 0.561.0 is the latest version; React 19.2.0 and react-dom 19.2.0 exist and work with the specified dependencies. No compatibility issues detected.\n\n\n\n> Likely an incorrect or invalid review comment.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/index.css (1)</summary><blockquote>\n\n`1-274`: **LGTM! Clean and well-structured styling.**\n\nThe CSS establishes a cohesive dark theme with glassmorphism effects, smooth animations, and responsive design. The separation of concerns (upload zone, player UI, utilities) is clear and maintainable.\n\n</blockquote></details>\n<details>\n<summary>apps/portal/style.css (1)</summary><blockquote>\n\n`1-225`: **LGTM! Cohesive portal styling.**\n\nThe CSS provides a unified dark theme with animated backgrounds, responsive card grids, and distinct hover states for different card types. The glassmorphism effects and gradient treatments align well with the overall design system.\n\n</blockquote></details>\n<details>\n<summary>apps/portal/index.html (1)</summary><blockquote>\n\n`1-70`: **LGTM! Clean semantic markup.**\n\nThe HTML provides a clear landing page with semantic structure, accessible navigation cards, and appropriate meta tags. The routing relies on paths like `/lecture/` and `/audiobook/`, which aligns with the Firebase hosting rewrites mentioned in the PR objectives.\n\n</blockquote></details>\n<details>\n<summary>services/orchestrator/main.py (1)</summary><blockquote>\n\n`22-31`: **CORS headers allow all origins.**\n\nThe CORS configuration uses `Access-Control-Allow-Origin: *`, which permits requests from any domain. While this may be intentional for development or public APIs, verify this aligns with your security requirements for production.\n\n\n\nIf this service should only be accessible from your Firebase-hosted frontend, consider restricting origins:\n\n```python\nALLOWED_ORIGINS = os.environ.get('ALLOWED_ORIGINS', '*').split(',')\n\n# In request handler:\norigin = request.headers.get('Origin', '')\nif origin in ALLOWED_ORIGINS or '*' in ALLOWED_ORIGINS:\n    headers = {'Access-Control-Allow-Origin': origin}\nelse:\n    return ('Origin not allowed', 403)\n```\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/index.html (1)</summary><blockquote>\n\n`1-171`: **LGTM! Well-structured player interface.**\n\nThe HTML provides a comprehensive three-view interface (upload, processing, player) with semantic markup, accessible controls, and proper separation of concerns. The layout accommodates drag-and-drop uploads, progress tracking, a sidebar table of contents, and synchronized audio playback controls. The structure integrates cleanly with the companion config.js, app.js, and style.css files.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/style.css (2)</summary><blockquote>\n\n`1-11`: **Well-structured CSS variables for theming.**\n\nGood use of CSS custom properties for centralized color and typography management. This enables easy theme modifications and consistency across the UI.\n\n---\n\n`69-76`: **Vendor-prefixed gradient text properties.**\n\nThe `-webkit-background-clip` and `-webkit-text-fill-color` properties are used for the gradient text effect. Note that `background-clip: text` is now widely supported in modern browsers without the prefix, though the webkit prefix ensures Safari compatibility.\n\n</blockquote></details>\n<details>\n<summary>services/tts-service/main.py (2)</summary><blockquote>\n\n`27-40`: **CORS configuration looks good.**\n\nProper preflight handling with appropriate headers for cross-origin requests. The `Access-Control-Max-Age: 3600` caches preflight responses for 1 hour, reducing overhead.\n\n---\n\n`67-69`: **Broad exception catch is acceptable here.**\n\nThe static analysis flags `Exception` but for a top-level HTTP handler, catching all exceptions to return a 500 response with error details is appropriate. The error is logged via `print()`.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/App.jsx (1)</summary><blockquote>\n\n`159-164`: **Progress bar seek implementation looks good.**\n\nClean implementation of click-to-seek on the progress bar using bounding rect calculations.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/app.js (1)</summary><blockquote>\n\n`1-12`: **Well-structured global state management.**\n\nClear separation of concerns with state object tracking job context, sections, and audio playback state.\n\n</blockquote></details>\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (2)</summary><blockquote>\n\n`35-41`: **Language code derivation assumes specific voice name format.**\n\nThe code extracts `language_code` by splitting the voice name (e.g., `\"en-US-Journey-F\"` ‚Üí `\"en-US\"`). This works for current voices but could break if voice naming conventions change.\n\n\nConsider validating or documenting this assumption, or storing language codes explicitly.\n\n---\n\n`29-97`: **handleSynthesize implementation is well-structured.**\n\nGood separation of text vs PDF modes, proper error handling with try/catch/finally, and informative logging throughout the process.\n\n</blockquote></details>\n\n</blockquote></details>\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit for review status -->","submittedAt":"2025-12-18T10:55:31Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"e8d41e8d02cecb480156e5cd003d51f32626909b"}},{"id":"PRR_kwDOQqNfnc7WHOzw","author":{"login":"coderabbitai"},"authorAssociation":"NONE","body":"**Actionable comments posted: 4**\n\n<details>\n<summary>‚ôªÔ∏è Duplicate comments (2)</summary><blockquote>\n\n<details>\n<summary>services/orchestrator/main.py (2)</summary><blockquote>\n\n`69-69`: **Critical: Add timeout to PDF processor request.**\n\nThe `requests.post` call lacks a timeout parameter, which can cause the function to hang indefinitely if the PDF processor is unresponsive. This is a critical reliability risk in production.\n\n\n\n\n<details>\n<summary>üîé Apply this diff:</summary>\n\n```diff\n-        pdf_resp = requests.post(PDF_PROCESSOR_URL, files=files)\n+        pdf_resp = requests.post(PDF_PROCESSOR_URL, files=files, timeout=60)\n```\n\nConsider making the timeout configurable via environment variable.\n</details>\n\nBased on past review at lines 69-69.\n\n---\n\n`91-91`: **Critical: Add timeout to TTS service request.**\n\nThe `requests.post` call to the TTS service lacks a timeout parameter, which can cause indefinite hangs if the service is unresponsive.\n\n\n\n\n<details>\n<summary>üîé Apply this diff:</summary>\n\n```diff\n-        tts_resp = requests.post(TTS_SERVICE_URL, json=tts_payload)\n+        tts_resp = requests.post(TTS_SERVICE_URL, json=tts_payload, timeout=120)\n```\n\nTTS generation may take longer than PDF processing, so consider a higher timeout value (e.g., 120 seconds) or make it configurable.\n</details>\n\nBased on past review at lines 91-91.\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>üßπ Nitpick comments (6)</summary><blockquote>\n\n<details>\n<summary>deploy_hosting.sh (1)</summary><blockquote>\n\n`47-50`: **Consider adding error handling for npm commands.**\n\nThe `cd` commands correctly handle failures with `|| exit`, but the `npm install` and `npm run build` commands don't. If either fails, the script continues to deployment with potentially broken artifacts.\n\n\n\n<details>\n<summary>üîé Apply this diff to add npm error handling:</summary>\n\n```diff\n cd apps/audiobook || { echo \"‚ùå Failed to enter apps/audiobook\"; exit 1; }\n-npm install\n-npm run build\n+npm install || { echo \"‚ùå npm install failed\"; exit 1; }\n+npm run build || { echo \"‚ùå Build failed\"; exit 1; }\n cd ../.. || { echo \"‚ùå Failed to return to root\"; exit 1; }\n```\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/audio-gen/main.py (1)</summary><blockquote>\n\n`18-18`: **Consider consolidating Firestore imports.**\n\nThe module-level `from google.cloud import firestore` import at line 18 allows using `firestore.Increment` at line 201, but creates duplication with the lazy import in `get_firestore_client()` (lines 14-16).\n\n\n\n<details>\n<summary>üîé Suggested refactor:</summary>\n\n**Option 1: Import only what's needed**\n```diff\n-from google.cloud import firestore\n+from google.cloud.firestore import Increment\n```\n\nThen update line 201:\n```diff\n-            'total_estimated_cost_usd': firestore.Increment(total_audio_cost),\n+            'total_estimated_cost_usd': Increment(total_audio_cost),\n```\n\n**Option 2: Keep module-level import and use it consistently** - this is cleaner if you need the firestore module in multiple places.\n</details>\n\nBased on learnings from similar patterns in the codebase.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/app.js (4)</summary><blockquote>\n\n`14-43`: **Consider defensive initialization for DOM elements.**\n\nThe `getElementById` calls execute at parse time and will return `null` if elements are missing or the DOM isn't ready. While this is likely fine if the script loads at the end of the HTML body, consider wrapping initialization in a `DOMContentLoaded` listener or adding null checks to prevent runtime errors during development or if the HTML structure changes.\n\n\n\n<details>\n<summary>üîé Example: Wrap in DOMContentLoaded</summary>\n\n```diff\n-// DOM Elements\n-const views = {\n-    upload: document.getElementById('upload-view'),\n-    processing: document.getElementById('processing-view'),\n-    player: document.getElementById('player-view')\n-};\n-\n-const dom = {\n-    dropZone: document.getElementById('drop-zone'),\n-    // ... rest of elements\n-};\n-\n-// Initialization\n-function init() {\n-    setupEventListeners();\n-    checkUrlParams();\n-    loadAgents();\n-}\n+// DOM Elements (populated on load)\n+let views = {};\n+let dom = {};\n+\n+// Initialization\n+function init() {\n+    views = {\n+        upload: document.getElementById('upload-view'),\n+        processing: document.getElementById('processing-view'),\n+        player: document.getElementById('player-view')\n+    };\n+    \n+    dom = {\n+        dropZone: document.getElementById('drop-zone'),\n+        // ... rest of elements\n+    };\n+    \n+    setupEventListeners();\n+    checkUrlParams();\n+    loadAgents();\n+}\n+\n+// Wait for DOM\n+if (document.readyState === 'loading') {\n+    document.addEventListener('DOMContentLoaded', init);\n+} else {\n+    init();\n+}\n```\n\nRemove the standalone `init()` call at line 383.\n\n</details>\n\n---\n\n`83-90`: **Consider basic validation for jobId parameter.**\n\nThe `jobId` is extracted from URL parameters without validation. While the backend should validate the jobId, adding basic client-side validation (e.g., non-empty, expected format) would prevent unnecessary API calls with malformed values.\n\n\n\n<details>\n<summary>üîé Example: Add basic validation</summary>\n\n```diff\n function checkUrlParams() {\n     const params = new URLSearchParams(window.location.search);\n     const jobId = params.get('jobId');\n-    if (jobId) {\n+    if (jobId && jobId.trim().length > 0) {\n         state.jobId = jobId;\n         startPolling();\n     }\n }\n```\n\n</details>\n\n---\n\n`133-135`: **Simplify URL construction with the URL API.**\n\nManual string concatenation for URL construction is error-prone. Use the URL API for cleaner, safer code.\n\n\n\n<details>\n<summary>üîé Suggested refactor</summary>\n\n```diff\n-        // Update URL without reload\n-        const newUrl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + '?jobId=' + state.jobId;\n-        window.history.pushState({ path: newUrl }, '', newUrl);\n+        // Update URL without reload\n+        const newUrl = new URL(window.location.href);\n+        newUrl.searchParams.set('jobId', state.jobId);\n+        window.history.pushState({ path: newUrl.href }, '', newUrl.href);\n```\n\n</details>\n\n---\n\n`147-169`: **Consider moving default agent ID to configuration.**\n\nLine 161 hardcodes `'prof-classics-001'` as the default agent. Moving this to the `CONFIG` object would improve maintainability and make it easier to change across environments.\n\n\n\n<details>\n<summary>üîé Example configuration change</summary>\n\nIn `config.js`:\n```javascript\nconst CONFIG = {\n    API_ENDPOINTS: { /* ... */ },\n    POLL_INTERVAL: 3000,\n    DEFAULT_AGENT_ID: 'prof-classics-001'\n};\n```\n\nThen update the code:\n```diff\n             option.value = agent.agentId;\n             option.textContent = agent.name;\n-            if (agent.agentId === 'prof-classics-001') option.selected = true;\n+            if (agent.agentId === CONFIG.DEFAULT_AGENT_ID) option.selected = true;\n             select.appendChild(option);\n```\n\n</details>\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>üìú Review details</summary>\n\n**Configuration used**: defaults\n\n**Review profile**: CHILL\n\n**Plan**: Pro\n\n<details>\n<summary>üì• Commits</summary>\n\nReviewing files that changed from the base of the PR and between e8d41e8d02cecb480156e5cd003d51f32626909b and dcb3dec0aa86492eef1568b1f7ca66d2a3cd151c.\n\n</details>\n\n<details>\n<summary>üìí Files selected for processing (12)</summary>\n\n* `.gitignore` (1 hunks)\n* `apps/audiobook/index.html` (1 hunks)\n* `apps/audiobook/src/App.jsx` (1 hunks)\n* `apps/audiobook/src/components/Tester.jsx` (1 hunks)\n* `cr_review_body.txt` (1 hunks)\n* `deploy_hosting.sh` (1 hunks)\n* `pr_comments.txt` (1 hunks)\n* `pr_reviews.txt` (1 hunks)\n* `public_deploy/lecture/app.js` (1 hunks)\n* `services/audio-gen/main.py` (5 hunks)\n* `services/orchestrator/main.py` (1 hunks)\n* `services/tts-service/requirements.txt` (1 hunks)\n\n</details>\n\n<details>\n<summary>üöß Files skipped from review as they are similar to previous changes (4)</summary>\n\n* services/tts-service/requirements.txt\n* apps/audiobook/index.html\n* apps/audiobook/src/components/Tester.jsx\n* apps/audiobook/src/App.jsx\n\n</details>\n\n<details>\n<summary>üß∞ Additional context used</summary>\n\n<details>\n<summary>üß¨ Code graph analysis (2)</summary>\n\n<details>\n<summary>public_deploy/lecture/app.js (2)</summary><blockquote>\n\n<details>\n<summary>apps/lecture/app.js (12)</summary>\n\n* `state` (2-12)\n* `views` (15-19)\n* `dom` (21-43)\n* `time` (306-306)\n* `jobId` (85-85)\n* `file` (94-94)\n* `file` (101-101)\n* `select` (153-153)\n* `agents` (156-156)\n* `section` (262-262)\n* `section` (314-314)\n* `timestamps` (276-276)\n\n</details>\n<details>\n<summary>public_deploy/lecture/config.js (1)</summary>\n\n* `CONFIG` (3-14)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>services/audio-gen/main.py (1)</summary><blockquote>\n\n<details>\n<summary>apps/audiobook/src/components/Tester.jsx (2)</summary>\n\n* `text` (6-6)\n* `provider` (8-8)\n\n</details>\n\n</blockquote></details>\n\n</details><details>\n<summary>ü™õ LanguageTool</summary>\n\n<details>\n<summary>cr_review_body.txt</summary>\n\n[style] ~69-~69: ‚Äòprior to‚Äô might be wordy. Consider a shorter alternative.\nContext: ...rization header forwarding and versions prior to 2.32.0 had SSL certificate verification...\n\n(EN_WORDINESS_PREMIUM_PRIOR_TO)\n\n---\n\n[style] ~189-~189: Consider placing the discourse marker ‚Äòfirst‚Äô at the beginning of the sentence for more clarity.\nContext: ...tory whitespace normalization logic.**  The function first normalizes newlines (line 13: `\\n+` ‚Üí `...\n\n(SENT_START_FIRST_PREMIUM)\n\n</details>\n<details>\n<summary>pr_reviews.txt</summary>\n\n[style] ~69-~69: ‚Äòprior to‚Äô might be wordy. Consider a shorter alternative.\nContext: ...rization header forwarding and versions prior to 2.32.0 had SSL certificate verification...\n\n(EN_WORDINESS_PREMIUM_PRIOR_TO)\n\n---\n\n[style] ~189-~189: Consider placing the discourse marker ‚Äòfirst‚Äô at the beginning of the sentence for more clarity.\nContext: ...tory whitespace normalization logic.**  The function first normalizes newlines (line 13: `\\n+` ‚Üí `...\n\n(SENT_START_FIRST_PREMIUM)\n\n</details>\n\n</details>\n<details>\n<summary>ü™õ Ruff (0.14.8)</summary>\n\n<details>\n<summary>services/orchestrator/main.py</summary>\n\n69-69: Probable use of `requests` call without timeout\n\n(S113)\n\n---\n\n91-91: Probable use of `requests` call without timeout\n\n(S113)\n\n---\n\n110-110: Do not catch blind exception: `Exception`\n\n(BLE001)\n\n</details>\n\n</details>\n\n</details>\n\n<details>\n<summary>üîá Additional comments (12)</summary><blockquote>\n\n<details>\n<summary>.gitignore (1)</summary><blockquote>\n\n`36-39`: **LGTM! Firebase ignore patterns are appropriate.**\n\nThe Firebase-related ignore patterns correctly exclude deployment artifacts (.firebase/), deployment logs (deploy_*.log), and debug logs (suite_debug.log) from version control, following Firebase best practices.\n\n</blockquote></details>\n<details>\n<summary>deploy_hosting.sh (2)</summary><blockquote>\n\n`8-13`: **LGTM! Firebase CLI validation is well-implemented.**\n\nThe script properly checks for firebase-tools installation and provides clear guidance to users if missing.\n\n---\n\n`29-32`: **LGTM! URL validation prevents malformed input.**\n\nThe script validates that URLs start with http:// or https://, which addresses the security concern about potential environment variable injection through malformed URLs.\n\n</blockquote></details>\n<details>\n<summary>services/orchestrator/main.py (1)</summary><blockquote>\n\n`28-30`: **Verify CORS policy allows all origins by default.**\n\nThe CORS configuration defaults to `cors_origin = '*'`, which permits requests from any domain. While this may be intentional for a public API, ensure this aligns with your production security requirements.\n\n\n\nIf the orchestrator should only be accessible from specific domains (e.g., your Firebase hosting), consider restricting the default or requiring origin validation.\n\n</blockquote></details>\n<details>\n<summary>cr_review_body.txt (1)</summary><blockquote>\n\n`1-1`: **Documentation file - no code review needed.**\n\nThis file contains auto-generated review documentation from a previous CodeRabbit review. It serves as a reference for past review comments but doesn't require code review itself.\n\n</blockquote></details>\n<details>\n<summary>services/audio-gen/main.py (1)</summary><blockquote>\n\n`179-181`: **LGTM! Per-section cost tracking is well-implemented.**\n\nThe addition of `characters` and `cost_usd` fields to each section result (lines 179-181) and the aggregation into `total_estimated_cost_usd` (line 201) provides excellent visibility for cost monitoring and debugging.\n\n</blockquote></details>\n<details>\n<summary>pr_comments.txt (1)</summary><blockquote>\n\n`1-1`: **Documentation file - no code review needed.**\n\nThis file contains auto-generated PR walkthrough documentation. It's metadata for review tracking purposes and doesn't require code review.\n\n</blockquote></details>\n<details>\n<summary>pr_reviews.txt (1)</summary><blockquote>\n\n`1-1`: **Documentation file - no code review needed.**\n\nThis file contains auto-generated review summary documentation from previous reviews. It serves as historical reference but doesn't require code review.\n\n</blockquote></details>\n<details>\n<summary>public_deploy/lecture/app.js (4)</summary><blockquote>\n\n`52-81`: **LGTM!**\n\nEvent listener setup is well-structured with proper handling for upload interactions, audio playback controls, and navigation. The audio metadata loading ensures the duration is available before user interaction with the seek slider.\n\n---\n\n`203-231`: **LGTM!**\n\nProgress tracking logic is well-structured with clear stage mapping and appropriate UI updates. The fallback to 0% for unknown statuses prevents display issues.\n\n---\n\n`263-308`: **LGTM!**\n\nSection loading and transcript rendering are well-implemented with proper error handling for timestamp fetching. The clickable transcript with seek functionality provides excellent UX.\n\n---\n\n`341-383`: **LGTM!**\n\nPlayback controls are well-implemented with intuitive behavior (auto-advance to next section, play/pause toggle, navigation). Utility functions are clean and follow best practices.\n\n</blockquote></details>\n\n</blockquote></details>\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit for review status -->","submittedAt":"2025-12-18T11:07:45Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"dcb3dec0aa86492eef1568b1f7ca66d2a3cd151c"}}]}
